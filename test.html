<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    body{
        background: black;
    }
    #c1{
         background: white;
    }
</style>
<body>

<canvas id="c1" width="400" height="400">
   <span style="color: white">不支持canvas</span>
</canvas>
</body>

<script>
   window.onload=function () {
       var oc=document.getElementById("c1");
       //得到绘制环境  画笔
       var context=oc.getContext("2d");
       context.fillRect(0,0,100,100);
       var img=context.getImageData(0,0,100,100);

       for(var i=0;i<img.width;i++){
           setXY(img,i,3,[255,0,0,255])
       }
        context.putImageData(img,100,100)
   }
   //设置像素点
   function setXY(obj,x,y,color) {
       var w=obj.width;
       var h=obj.height;
       var d=obj.data;
       for(var i=0;i<d.length;i++)
       {
           d[4*(y*w+x)]=color[0]
           d[4*(y*w+x)+1]=color[1]
           d[4*(y*w+x)+2]=color[2]
           d[4*(y*w+x)+3]=color[3]
       }

   }
   //传递imgData  x  y
    function getXY(img,x,y) {
         var color=[];
         var w=img.width;
         var h=img.height;
         var d=img.data;
         for(var i=0;i<d.length;i++)
         {
             color[0]=d[4*(y*w+x)]
             color[1]=d[4*(y*w+x)+1]
             color[2]=d[4*(y*w+x)+2]
             color[3]=d[4*(y*w+x)+3]
         }
         return color
    }

</script>
</html>